clear;
clc;
clf();
xname("--------------Example 2.4----------------");
// display the figure
xset("color",0);
xset("font size",3);
xrect(-.05,1,.09,.09);
xrect(0.06,1,.09,.09);
xrect(0.17,1,.09,.09);
xrect(0.72,1,.09,.09);
xrect(0.83,1,.09,.09);
xstring(-.02,1,["a"]);
xstring(0.09,1,["b"]);
xstring(.20,1,["c"]);
xstring(.75,1,["j"]);
xstring(.86,1,["k"]);
xstring(0.06,.75,["A -  Sender"]);
xstring(0.8,.75,["P -  Reciever"]);
xrect(.06,.7,.07,.05);
xstringb(.06,.65,["Data"],.07,.05);
xrect(.8,.7,.07,.05);
xstringb(.8,.65,["Data"],.07,.05);
xstring(.13,.65,["----------------------------------------------------Application Layer------------------------------------------------"])
xrects([ 0 .03 .06;.6 .6 .6;.03 .03 .07;.06 .06 .06]);
xrects([.74 .77 .80;.6 .6 .6;.03 .03 .07;.06 .06 .06]);
xstring(0.005,.55,["a"]);
xstring(0.035,.55,["j"]);
xrect(.065,.595,.06,.05);
xstring(.074,.555,["Data"]);
xstring(0.745,.55,["a"]);
xstring(0.775,.55,["j"]);
xrect(.805,.595,.06,.05);
xstring(.82,.555,["Data"]);
xstring(.13,.55,["---------------------------------------------------Transport Layer----------------------------------------"])
xrect(-.06,.465,.19,.065);
xrect(.68,.465,.19,.065);
xrects([ -.06 -.03 0;.47 .47 .47;.03 .03 .13;.06 .06 .06]);
xrects([.68 .71 .74;.47 .47 .47;.03 .03 .13;.06 .06 .06]);
xrects([ 0 .03 .06;.46 .46 .46;.03 .03 .07;.057 .057 .057]);
xrects([.74 .77 .80;.46 .46 .46;.03 .03 .07;.057 .057 .057]);
xstring(0.005,.41,["a"]);
xstring(0.035,.41,["j"]);
xrect(.065,.455,.06,.05);
xstring(.074,.415,["Data"]);
xstring(0.745,.41,["a"]);
xstring(0.775,.41,["j"]);
xrect(.805,.455,.06,.05);
xstring(.82,.415,["Data"]);
xstring(-.055,.42,["A"]);
xstring(-.02,.42,["P"]);
xstring(.69,.42,["A"]);
xstring(.72, .42,["P"]);
xstring(.13,.42,["---------------------------------------------Network Layer-------------------------------------"]);
xrect(-.06,.305,.19,.075);
xrect(.68,.305,.19,.075);
xrects([ -.06 -.03 0;.3 .3 .3;.03 .03 .13;.06 .06 .06]);
xrects([.68 .71 .74;.3 .3 .3;.03 .03 .13;.06 .06 .06]);
xrects([ 0 .03 .06;.297 .297 .297;.03 .03 .07;.057 .057 .057]);
xrects([.74 .77 .80;.297 .297 .297;.03 .03 .07;.057 .057 .057]);
xstring(0.005,.24,["a"]);
xstring(0.035,.24,["j"]);
xrect(.065,.29,.06,.05);
xstring(.074,.245,["Data"]);
xstring(0.745,.24,["a"]);
xstring(0.775,.24,["j"]);
xrect(.805,.29,.06,.05);
xstring(.82,.245,["Data"]);
xstring(-.055,.25,["A"]);
xstring(-.02,.25,["P"]);
xstring(.69,.25,["A"]);
xstring(.72, .25,["P"]);
xset("color",2);
xfrect(-.09,.305,.03,.075);
xfrect(.65,.305,.03,.075);
xfrect(.13,.305,.03,.075);
xfrect(.87,.305,.03,.075);
xstring(-.087,.24,["H2"]);
xstring(.13,.24,["T2"]);
xstring(.655,.24,["H2"]);
xstring(.87,.24,["T2"]);
xstring(.155,.26,["--------------------------------------Data link Layer---------------------------------"]);
xset("color",0);
xstring(.38,.05,["Internet"]);
xarc(0.3,.15,.2,.2,0,360*64);
xpoly([0.09,0.09],[.75,.7]);
xpoly([0.09,0.09],[.65,.6]);
xpoly([0.09,0.09],[.54,.47]);
xpoly([0.09,0.09],[.4,.3]);
xarrows([0.1,.3],[.23 .08]);
xpoly([0.84,0.84],[.75,.7]);
xpoly([0.84,0.84],[.65,.6]);
xpoly([0.84,0.84],[.54,.47]);
xpoly([0.84,0.84],[.4,.3]);
xpoly([.5 .8],[.08 .23]);
xpoly([-.02 .06],[.91 0.77]);
xarrows([.82 .75],[.77 0.91]);
disp("--------------Example 2.4----------------")
// display the text
printf("Figure shows two computers communicating via the Internet. The sending computer is running three processes at\nthis time with port addresses a, b, and c. The receiving computer is running two processes at this time with port addresses j and k.\nProcess a in the sending computer needs to communicate with process j in the receiving computer.\nNote that although both computers are using the same application, FTP, the port addresses are different because one is a client\nprogram and the other is a server program . To show that data from process a need to be delivered to process j, and not k,\nthe transport layer encapsulates data from the application layer in a packet and adds two port addresses (a and j), source and destination.\nThe packet from the transport layer is then encapsulated in another packet at the network layer with logical source and\ndestination addresses (A and P). Finally, this packet is encapsulated in a frame with the physical source and destination addresses of the next\nhop. We have not shown the physical addresses because they change from hop to hop inside the cloud designated as the Internet. Note\nthat although physical addresses change from hop to hop, logical and port\naddresses remain the same from the source to destination.");
