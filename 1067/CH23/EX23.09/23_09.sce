clear;
clc;
e=100/75;
r=100e6;
v=66e3;
xg1=.175*%i*e;
xg2=.135*%i*e;
X1=.1*%i*e;
zn=3*58;
ibase=r/(sqrt(3)*v);
vbase=v/sqrt(3);
zb=vbase/ibase;
zg0=zn/zb;
f=70e3;
e=f/v;
x1=.367*%i;
x2=.313*%i;
z0=zg0+(.133*%i);
a=1*%e^(%i*(120*%pi/180));
b=a^2;
ia1=e/x1;
mprintf("%f",real(vbase));
ia=ia1;
ib=b*ia;
ic=a*ia;
ia=ibase*ia;
ib=ibase*ib;
ic=ibase*ic;
ia0r=real(ia);
ia0i=imag(ia);
iam=sqrt((ia0r^2)+(ia0i^2));
ia1r=real(ib);
ia1i=imag(ib);
ibm=sqrt((ia1r^2)+(ia1i^2));
ia2r=real(ic);
ia2i=imag(ic);
icm=sqrt((ia2r^2)+(ia2i^2));
iaa=-90;
iba=180+atand(ia1i/ia1r);
ica=atand(ia2i/ia2r);
mprintf("the symmetric components for three phase fault are \n ia0=%f+j%f A \tor\t %f/_%d A",ia0r,ia0i,iam,iaa);
mprintf("\n ib=%f+j%f A \tor\t %f/_%d A",ia1r,ia1i,ibm,iba);
mprintf("\n ic=%f+j(%f) A \tor\t %f/_%d A",ia2r,ia2i,icm,ica);
ia1=e/(x1+x2);
ia2=-ia1;
ia0=0;
ia=(ia0+ia1+ia2);
ib=(ia0+(b*ia1)+(a*ia2));
ic=(ia0+(a*ia1)+(b*ia2));
i=r/(sqrt(3)*v);
ia=ia*i;
ib=ib*i;
ic=ic*i;
ia0r=real(ia);
ia0i=imag(ia);
iam=sqrt((ia0r^2)+(ia0i^2));
ia1r=real(ib);
ia1i=imag(ib);
ibm=sqrt((ia1r^2)+(ia1i^2));
ia2r=real(ic);
ia2i=imag(ic);
icm=sqrt((ia2r^2)+(ia2i^2));
iaa=0;
iba=180+atand(ia1i/ia1r);
ica=atand(ia2i/ia2r);
icm=round(icm/10)*10;
ibm=round(ibm/10)*10;
mprintf("\nthe symmetric components for line to line fault are \n ia0=%f+j%f A \tor\t %f/_%f A",ia0r,ia0i,iam,iaa);
mprintf("\n ib=%f+j%f A \tor\t %f/_%f A",ia1r,ia1i,ibm,iba);
mprintf("\n ic=%f+j(%f) A \tor\t %f/_%f A",ia2r,ia2i,icm,ica);
ia1=e/(x1+x2+z0);
ia2=ia1;
ia0=ia2;
ia=(ia0+ia1+ia2);
ib=(ia0+(b*ia1)+(a*ia2));
ic=(ia0+(a*ia1)+(b*ia2));
i=r/(sqrt(3)*v);
ia=ia*874;
ia0r=real(ia);
ia0i=imag(ia);
iam=sqrt((ia0r^2)+(ia0i^2));
ia1r=real(ib);
ia1i=imag(ib);
ibm=sqrt((ia1r^2)+(ia1i^2));
ia2r=real(ic);
ia2i=imag(ic);
icm=sqrt((ia2r^2)+(ia2i^2));
iaa=atand(ia0i/ia0r);
iba=0;
ica=0;
mprintf("\nthe symmetric components for single line to ground fault are \n ia0=%f+j%f A \tor\t %f/_%f A",ia0r,ia0i,iam,iaa);
mprintf("\n ib=%f+j%f A \tor\t %f/_%f A",ia1r,ia1i,ibm,iba);
mprintf("\n ic=%f+j(%f) A \tor\t %f/_%f A",ia2r,ia2i,icm,ica);
